<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Weihnachtskonvoi Efringen-Kirchen - Live Tracking</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-red: #C62828;
            --dark-red: #B71C1C;
            --light-grey: #F5F5F5;
            --dark-grey: #333;
            --text-color: #444;
            --christmas-green: #2e7d32;
            --christmas-gold: #ffc107;
            --christmas-gold-dark: #e6a800;
        }

        body {
            margin: 0;
            font-family: 'Roboto', sans-serif;
            background-color: var(--light-grey);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            background-image: url('https://ais.badische-zeitung.de/piece/0b/de/7e/a2/199130786.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.75);
            z-index: -1;
        }

        header {
            background: linear-gradient(to right, var(--primary-red), var(--christmas-green));
            color: white;
            padding: 25px 0;
            text-align: center;
            box-shadow: 0 6px 12px rgba(0,0,0,0.25);
            position: relative;
            z-index: 2;
            overflow: hidden;
        }

        header h1 {
            font-family: 'Oswald', sans-serif;
            font-size: 4em;
            margin: 0;
            letter-spacing: 3px;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.4);
            text-wrap: balance;
        }
        
        header h1 span {
            color: var(--christmas-gold);
        }

        header p {
            font-size: 1.3em;
            margin-top: 10px;
            opacity: 0.95;
            font-weight: 300;
        }

        .container {
            flex-grow: 1;
            width: 90%;
            max-width: 1200px;
            margin: 30px auto;
            padding: 40px;
            background-color: rgba(255, 255, 255, 0.98);
            border-radius: 20px;
            box-shadow: 0 0 30px rgba(0,0,0,0.15);
            text-align: center;
            position: relative;
            z-index: 2;
            line-height: 1.8;
            box-sizing: border-box;
        }

        h2 {
            font-family: 'Oswald', sans-serif;
            color: var(--primary-red);
            font-size: 2.5em;
            margin-bottom: 30px;
            border-bottom: 4px solid var(--christmas-green);
            padding-bottom: 15px;
            display: inline-block;
            position: relative;
        }
        h2::after {
            content: '⭐';
            position: absolute;
            right: -30px;
            bottom: 5px;
            font-size: 0.6em;
            color: var(--christmas-gold);
        }
        h2::before {
            content: '⭐';
            position: absolute;
            left: -30px;
            bottom: 5px;
            font-size: 0.6em;
            color: var(--christmas-gold);
        }

        .section-description {
            font-size: 1.15em;
            line-height: 1.7;
            margin-bottom: 40px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .image-gallery {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 10px;
            flex-wrap: wrap;
        }
        .image-gallery img {
            width: 100%;
            max-width: 300px;
            height: 200px;
            object-fit: cover;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
            transition: transform 0.3s ease;
            border: 3px solid var(--christmas-green);
        }
        .image-gallery .wappen {
            object-fit: contain;
            background-color: #fff;
        }

        .image-note {
            font-size: 0.9em;
            color: #777;
            margin-bottom: 40px;
        }

        iframe {
            width: 100%;
            height: 550px;
            border: 6px solid var(--christmas-green);
            border-radius: 12px;
            box-shadow: 0 0 25px rgba(0,0,0,0.35);
            margin-bottom: 35px;
        }

        a.button {
            display: inline-block;
            padding: 20px 40px;
            font-size: 1.4em;
            color: white;
            background-color: var(--christmas-green);
            border-radius: 10px;
            text-decoration: none;
            transition: background-color 0.3s ease, transform 0.2s ease;
            font-weight: bold;
            letter-spacing: 1px;
            box-shadow: 0 6px 15px rgba(0,0,0,0.25);
            margin-top: 20px;
        }

        a.button:hover {
            background-color: #1b5e20;
            transform: translateY(-5px);
        }

        .snowflake {
            color: #fff;
            font-size: 1em;
            font-family: Arial, sans-serif;
            text-shadow: 0 0 3px rgba(0,0,0,0.2);
            position: absolute;
            top: -10px;
            animation: fall linear infinite;
            pointer-events: none;
            z-index: 1;
        }
        @keyframes fall {
            to {
                transform: translateY(100vh);
            }
        }
        
        .faq-list {
            text-align: left;
            margin: 0 auto;
            max-width: 800px;
            list-style: none;
            padding: 0;
        }
        .faq-item {
            margin-bottom: 25px;
        }
        .faq-item h3 {
            color: var(--christmas-green);
            font-size: 1.4em;
            border-bottom: 2px solid var(--christmas-gold);
            padding-bottom: 5px;
            margin-bottom: 10px;
        }

        .hashtag {
            background-color: var(--christmas-gold);
            color: var(--text-color);
            padding: 8px 15px;
            border-radius: 5px;
            font-weight: bold;
            display: inline-block;
            margin-top: 10px;
            letter-spacing: 1px;
            margin-bottom: 15px;
        }

        .social-link {
            display: inline-block;
            margin-top: 15px;
            margin-bottom: 20px;
        }
        .social-link img {
            width: 50px;
            height: auto;
            transition: transform 0.3s ease;
        }
        .social-link img:hover {
            transform: scale(1.1);
        }

        .countdown-info {
            color: white;
            font-size: 1.1em;
            margin-top: 10px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }
        .countdown {
            font-family: 'Oswald', sans-serif;
            font-size: 2em;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        .countdown-item {
            display: inline-block;
            margin: 0 10px;
        }
        .countdown-item span {
            display: block;
            font-size: 0.5em;
            font-weight: 300;
            text-transform: uppercase;
        }
        
        /* Anpassungen für Tablets (breite 768px oder weniger) */
        @media (max-width: 768px) {
            header {
                padding: 20px 0;
            }
            header h1 {
                font-size: 2.8em;
            }
            header p {
                font-size: 1em;
            }
            .container {
                width: 95%;
                padding: 25px;
                margin: 20px auto;
            }
            h2 {
                font-size: 2em;
                margin-bottom: 20px;
            }
            h2::after, h2::before {
                font-size: 0.5em;
                right: -20px;
                left: -20px;
            }
            .image-gallery {
                flex-direction: column;
                align-items: center;
                gap: 15px;
            }
            .image-gallery img {
                max-width: 90%;
            }
            iframe {
                height: 450px;
            }
            a.button {
                padding: 15px 30px;
                font-size: 1.2em;
            }
            .faq-item h3 {
                font-size: 1.2em;
            }
            .countdown {
                font-size: 1.5em;
            }
        }

        /* Anpassungen für Smartphones (breite 480px oder weniger) */
        @media (max-width: 480px) {
            header {
                padding: 15px 0;
            }
            header h1 {
                font-size: 2em;
                letter-spacing: 1px;
            }
            header p {
                font-size: 0.85em;
            }
            .snowflakes {
                display: block;
            }
            h2 {
                font-size: 1.7em;
            }
            h2::after, h2::before {
                display: none;
            }
            .section-description {
                font-size: 1em;
            }
            iframe {
                height: 350px;
                border-width: 4px;
            }
            a.button {
                padding: 12px 20px;
                font-size: 1em;
            }
            .faq-item h3 {
                font-size: 1.1em;
            }
            .countdown-info {
                font-size: 0.9em;
            }
            .countdown {
                font-size: 1.2em;
            }
            .countdown-item {
                margin: 0 5px;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Weihnachtskonvoi <span>Efringen-Kirchen</span></h1>
        <p>Ein magisches Erlebnis für die ganze Familie – Live dabei!</p>
        
        <p class="countdown-info">(KI Beispieldatum: 17. Dezember 2025) Der Konvoi startet in:</p>
        <div id="countdown" class="countdown"></div>

        <div class="snowflakes" aria-hidden="true">
            <div class="snowflake">❅</div>
            <div class="snowflake">❆</div>
            <div class="snowflake">❄</div>
            <div class="snowflake">❅</div>
            <div class="snowflake">❆</div>
            <div class="snowflake">❄</div>
            <div class="snowflake">❅</div>
            <div class="snowflake">❆</div>
            <div class="snowflake">❄</div>
            <div class="snowflake">❅</div>
            <div class="snowflake">❆</div>
            <div class="snowflake">❄</div>
        </div>
    </header>

    <div class="container">
        (KI Textbeispiel:)
        <p class="section-description">
            Herzlich willkommen zum offiziellen Live-Tracking des Weihnachtskonvois Efringen-Kirchen! Jedes Jahr aufs Neue verwandeln wir unsere Gemeinde in ein funkelndes Winterwunderland. Begleiten Sie uns auf unserer festlichen Tour, wenn unsere beleuchteten Fahrzeuge durch die Straßen ziehen und Weihnachtsstimmung verbreiten. Ein besonderer Dank gilt allen ehrenamtlichen Helfern, die dieses magische Ereignis ermöglichen!
        </p>

        <h2>(KI Textbeispiel:) Unser Konvoi – Eine Tradition voller Herz</h2>
        <p class="section-description">
            Der Weihnachtskonvoi ist mehr als nur eine Lichterfahrt. Er ist ein Zeichen der Gemeinschaft, der Freude und der Solidarität in unserer schönen Gemeinde Efringen-Kirchen. Werden Sie Teil dieser wundervollen Tradition!
        </p>

        <h2>(KI Textbeispiel:) Impressionen vergangener Jahre</h2>
        <div class="image-gallery">
            <img class="wappen" src="https://upload.wikimedia.org/wikipedia/commons/d/d1/DEU_Efringen-Kirchen_COA.svg" alt="Wappen von Efringen-Kirchen">
            <img class="wappen" src="https://upload.wikimedia.org/wikipedia/commons/d/d1/DEU_Efringen-Kirchen_COA.svg" alt="Wappen von Efringen-Kirchen">
            <img class="wappen" src="https://upload.wikimedia.org/wikipedia/commons/d/d1/DEU_Efringen-Kirchen_COA.svg" alt="Wappen von Efringen-Kirchen">
        </div>
        <p class="image-note">
            (KI Textbeispiel:) Hinweis: Die Bilder dienen nur als visuelle Beispiele.
        </p>

        <h2>(KI Textbeispiel:) Streckenverlauf & Zeitplan</h2>
        <p class="section-description">
            Hier finden Sie den voraussichtlichen Streckenverlauf und die geschätzten Ankunftszeiten, damit Sie den Konvoi optimal miterleben können.
        </p>
        <ul class="faq-list">
            <li class="faq-item">
                <h3>Efringen-Kirchen Zentrum:</h3>
                <p>Start um ca. 17:00 Uhr</p>
            </li>
            <li class="faq-item">
                <h3>Kirchen:</h3>
                <p>Ankunft ca. 17:30 Uhr</p>
            </li>
            <li class="faq-item">
                <h3>Istein:</h3>
                <p>Ankunft ca. 18:00 Uhr</p>
            </li>
            <li class="faq-item">
                <h3>Kleinkems:</h3>
                <p>Ankunft ca. 18:30 Uhr</p>
            </li>
            <li class="faq-item">
                <h3>Egringen:</h3>
                <p>Ankunft ca. 19:00 Uhr</p>
            </li>
            <li class="faq-item">
                <h3>Blansingen:</h3>
                <p>Ankunft ca. 19:30 Uhr</p>
            </li>
        </ul>

        <h2>(KI Textbeispiel:) Aktueller Standort des Konvois</h2>
        <p class="section-description">
            Verpassen Sie nicht, wo unser festlicher Konvoi gerade unterwegs ist! Auf der Karte unten können Sie den aktuellen Standort live verfolgen und planen, wann und wo Sie uns am besten zujubeln können.
        </p>
        <iframe id="glympse-iframe" src="" allowfullscreen loading="lazy"></iframe>
        
        <p>
            Für eine noch bessere Übersicht oder wenn Sie uns von unterwegs folgen möchten:
        </p>
        <a id="glympse-button" class="button" href="" target="_blank">Konvoi in voller Ansicht öffnen</a>

        ---

        <h2>(KI Textbeispiel:) Häufig gestellte Fragen (FAQ)</h2>
        <ul class="faq-list">
            <li class="faq-item">
                <h3>Wann und wo startet der Konvoi?</h3>
                <p>Der Konvoi startet in Efringen-Kirchen um ca. 17:00 Uhr. Die genaue Route finden Sie im Abschnitt "Streckenverlauf & Zeitplan".</p>
            </li>
            <li class="faq-item">
                <h3>Findet der Konvoi bei jedem Wetter statt?</h3>
                <p>Ja, der Konvoi findet bei jedem Wetter statt. Nur bei extremen Unwetterwarnungen könnte er kurzfristig verschoben oder abgesagt werden. Aktuelle Informationen finden Sie hier auf der Website.</p>
            </li>
            <li class="faq-item">
                <h3>Gibt es etwas zu beachten?</h3>
                <p>Bitte halten Sie genügend Abstand zu den Fahrzeugen und achten Sie besonders auf Kinder am Straßenrand. Genießen Sie die Lichtershow und haben Sie eine schöne Zeit!</p>
            </li>
        </ul>

        ---

        <h2>(KI Textbeispiel:) Ihre Momente – Teilen Sie Ihre Fotos!</h2>
        <p class="section-description">
            Sie haben ein tolles Foto oder Video vom Weihnachtskonvoi gemacht? Dann teilen Sie es mit uns und der ganzen Gemeinde!
        </p>
        <p class="section-description">
            Verwenden Sie dafür den Hashtag:
        </p>
        <span class="hashtag">#WeihnachtskonvoiEfringenKirchen</span>
        <p class="section-description">
            Oder folgen Sie uns auf Instagram für weitere Impressionen und Neuigkeiten:
        </p>
        <a class="social-link" href="https://www.instagram.com/ffw_ek?igsh=MmY2MjJwOHIwZ3Zw" target="_blank">
            <img src="https://img.freepik.com/vektoren-premium/instagram-vektor-logo-symbol-social-media-logotyp_901408-392.jpg" alt="Instagram Logo">
        </a>
        <p class="section-description">
            Wir freuen uns darauf, Ihre festlichen Momente zu sehen!
        </p>
    </div>

    <script>
        const snowflakesContainer = document.querySelector('.snowflakes');
        if (snowflakesContainer) {
            const numSnowflakes = 30;
            for (let i = 0; i < numSnowflakes; i++) {
                let snowflake = document.createElement('div');
                snowflake.classList.add('snowflake');
                snowflake.innerHTML = ['❅', '❆', '❄'][Math.floor(Math.random() * 3)];
                snowflake.style.left = Math.random() * 100 + 'vw';
                snowflake.style.animationDuration = (Math.random() * 3 + 5) + 's';
                snowflake.style.animationDelay = (Math.random() * 5) + 's';
                snowflake.style.fontSize = (Math.random() * 0.8 + 0.6) + 'em';
                snowflake.style.opacity = Math.random() * 0.6 + 0.4;
                snowflakesContainer.appendChild(snowflake);
            }
        }
        
        // Countdown-Funktion
        const countdownElement = document.getElementById('countdown');
        const countdownDate = new Date("December 17, 2025 17:00:00").getTime();
        
        const updateCountdown = setInterval(function() {
            const now = new Date().getTime();
            const distance = countdownDate - now;
            
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);
            
            if (distance < 0) {
                clearInterval(updateCountdown);
                countdownElement.innerHTML = "Der Konvoi ist unterwegs!";
            } else {
                countdownElement.innerHTML = `
                    <div class="countdown-item">${days}<span>Tage</span></div>
                    <div class="countdown-item">${hours}<span>Stunden</span></div>
                    <div class="countdown-item">${minutes}<span>Minuten</span></div>
                    <div class="countdown-item">${seconds}<span>Sekunden</span></div>
                `;
            }
        }, 1000);

        // HINWEIS: Hier beginnt der Code zum Laden des Links
        const iframe = document.getElementById('glympse-iframe');
        const button = document.getElementById('glympse-button');

        // Fallback-Link für den Fall, dass der Abruf fehlschlägt
        const fallbackLink = "https://glympse.com/FESTLICHES-BEISPIEL";

        // Hier ist die Datei-ID von Ihrem Google Drive Link eingefügt.
        const linkFileUrl = "https://drive.google.com/uc?export=download&id=1MVJHZ_5OKrkZ7aOX44CnhzSf_opD7mM1";

        function updateGlympse() {
            fetch(linkFileUrl)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Netzwerk-Antwort war nicht ok');
                    }
                    return response.text();
                })
                .then(link => {
                    const finalLink = link.trim();
                    if (finalLink.startsWith('https://')) {
                         iframe.src = finalLink;
                         button.href = finalLink;
                    } else {
                         // Fallback, wenn der abgerufene Text kein gültiger Link ist
                         iframe.src = fallbackLink;
                         button.href = fallbackLink;
                    }
                })
                .catch(error => {
                    console.error('Fehler beim Abrufen des Links:', error);
                    // Fallback, wenn der Abruf ganz fehlschlägt
                    iframe.src = fallbackLink;
                    button.href = fallbackLink;
                });
        }

        updateGlympse();
        setInterval(updateGlympse, 30000);
    </script>
</body>
</html>
